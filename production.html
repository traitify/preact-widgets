<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Traitify Widgets</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">
  </head>
  <body>
    <h1>
        Your Site HEADER
    </h1>
    <div id="widgets" style="position: relative; width:600px; float: left;"></div>
    <style>
        .traitify--slidedeck--widgetContainer .traitify--slidedeck--fullScreen {
            width: 40px;
            height: 40px;
            opacity: .5;
            bottom: 36px;
        }
    </style>
    <div style="width: 100%; padding-left: 600px; position: absolute; box-sizing: border-box">
        <div style="margin: 30px; ">
            <h3 style="margin-top: -25px;">An example of the widget embedded in a page with content</h3>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc in enim pretium, pellentesque odio quis, semper libero. Phasellus faucibus ligula non rhoncus pretium. Phasellus nec lectus et eros tempor commodo et a diam. Proin tempus eleifend justo dignissim blandit. Fusce vehicula augue nisl, quis venenatis urna posuere sit amet. Pellentesque iaculis non orci et volutpat. Maecenas efficitur, urna a scelerisque vestibulum, nisi enim dictum neque, et porta erat eros vel mauris. Cras facilisis magna eget neque accumsan convallis. Donec tortor massa, cursus vel felis ac, lacinia efficitur elit. Nulla sed turpis aliquet ipsum cursus euismod et vel eros. Morbi eget ipsum commodo, eleifend velit elementum, varius tellus. Sed sem nibh, lobortis non lorem et, dictum gravida sapien. Quisque rutrum, ante in blandit mattis, justo augue commodo eros, ac vestibulum neque purus vitae odio. Donec fermentum tellus in magna scelerisque elementum.

            In lacus tortor, imperdiet vel aliquam laoreet, mollis quis urna. Sed suscipit semper turpis, in interdum massa eleifend a. Vivamus dapibus, velit at viverra semper, odio lorem fringilla urna, nec sollicitudin quam mauris eget eros. Integer maximus commodo arcu at commodo. Praesent pulvinar, urna ut gravida pharetra, ex dolor volutpat nisi, eu eleifend magna mauris id velit. Morbi elit mauris, eleifend et consectetur vel, elementum vel ante. Nullam interdum sollicitudin tortor eget euismod.

            Maecenas volutpat suscipit ipsum, a auctor felis finibus et. Donec eget convallis est. Phasellus odio ante, imperdiet id ligula nec, sodales mollis ipsum. Aliquam sit amet nunc enim. Aenean ultrices, velit porta rutrum dapibus, nulla dui congue dui, vitae rhoncus mauris justo at elit. Nulla condimentum finibus justo, sit amet volutpat ante congue et. Sed tristique bibendum augue, et pharetra ipsum rhoncus eget. Donec tempor dui mi, non pretium orci maximus quis. Vestibulum rutrum ex sed sapien ultrices blandit. Ut et interdum nibh. Ut vel hendrerit tellus, vel tincidunt sapien. Sed dignissim eget ipsum eget tempor. Aliquam ac auctor dolor.

            Donec tempor dictum porta. Vivamus sollicitudin mollis ligula sed blandit. Donec ut blandit ex. Nam viverra in lorem eu viverra. Duis sed nisl elit. Donec sit amet pharetra diam. Morbi at dui quis augue pretium pharetra a id urna. Proin bibendum sapien massa, vel pretium lacus placerat venenatis. Duis sit amet orci dolor. Fusce porta nisl eu tortor malesuada, ac hendrerit nunc dictum. Aenean at est varius, interdum tortor quis, hendrerit lectus. Morbi eu risus luctus, interdum enim ac, euismod ipsum.

            Integer massa eros, scelerisque at tristique ac, eleifend at est. Morbi maximus auctor ex luctus posuere. Sed id urna ac mauris fermentum placerat vel a dolor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam in metus convallis, lacinia eros ac, viverra libero. Duis a dignissim nunc. In luctus ligula arcu, at laoreet diam placerat sed.
            <br />
            <h2>
                Create an Assessment if you don't have one!
            </h2>
            <script src="https://cdn.traitify.com/js/v2/traitify.js"></script>
            <script>
            Traitify.setPublicKey("sptoechv411aqbqrp4l9a4eg2a");
            Traitify.setHost("https://api.traitify.com");

            initDeck = function(){
                var assessment = Traitify.ui.assessmentId(localStorage.getItem("assessment-id"));
                assessment.allowFullScreen(true);
                assessment.target("#widgets");
                assessment.render();
            }

            createAssessment = function(){
                Traitify.post("/assessments", {deck_id: document.querySelector("#deck-name").value, locale_key: "en-us"}).then(function(assessment){
                localStorage.setItem("assessment-id", assessment.id);
                initDeck();
                })
            }

            if(localStorage.getItem("assessment-id")){
                initDeck();
            }
            </script>

            <select id="deck-name">
            <option value="career-deck">Career Deck</option>
            <option value="big-five-classic">The Big Five</option>
            </select>

            <button onclick="createAssessment()">New Assessment</button>
        </div>
    </div>
  </body>
</html>
